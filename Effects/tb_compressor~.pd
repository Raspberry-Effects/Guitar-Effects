#N canvas 319 23 1118 767 10;
#X obj 250 723 outlet~;
#X obj 250 586 *~;
#X obj 250 694 *~;
#N canvas 422 190 450 300 delWrite 0;
#X obj 68 140 delwrite~ \$0-comp 500;
#X obj 68 99 inlet~;
#X obj 68 216 outlet~;
#X text 335 17 Nima Shariat;
#X text 363 39 CMPS 115;
#X text 321 60 Guitar Effects;
#X connect 1 0 0 0;
#X restore 100 387 pd delWrite;
#X obj 645 595 dbtorms;
#X obj 697 566 /;
#X obj 697 535 swap 1;
#X obj 750 542 /;
#X obj 750 520 swap 1000;
#X obj 268 546 lop~;
#X obj 268 491 clip~ 0 1;
#X obj 645 617 s \$0-thresh;
#X obj 697 588 s \$0-ratio;
#X obj 281 669 line~;
#X obj 281 648 pack f 5;
#X obj 281 624 r \$0-gain;
#X obj 802 499 s \$0-gain;
#N canvas 0 23 872 621 rms 0;
#X obj 234 239 env~ 512;
#X obj 234 377 -~;
#X obj 234 425 *~;
#X obj 234 477 +~;
#X obj 234 517 /~;
#X obj 486 388 +~ 0;
#X obj 249 352 r \$0-thresh;
#X obj 249 450 r \$0-thresh;
#X obj 249 401 r \$0-ratio;
#X obj 234 166 inlet~;
#X obj 234 539 outlet~;
#X obj 350 169 inlet;
#X obj 350 191 switch~;
#X obj 234 267 dbtorms~;
#X text 208 268 RMS;
#X text 401 191 turn DSP on/off for this sub-patch;
#X text 191 164 Input;
#X text 186 539 Output;
#X text -4 20 Nima Shariat;
#X text 24 42 CMPS 115;
#X text -18 63 Guitar Effects;
#X text 152 111 The RMS gain computation sub-patch;
#X connect 0 0 13 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 10 0;
#X connect 5 0 4 1;
#X connect 6 0 1 1;
#X connect 7 0 3 1;
#X connect 8 0 2 1;
#X connect 9 0 0 0;
#X connect 11 0 12 0;
#X connect 13 0 1 0;
#X connect 13 0 5 0;
#X restore 453 411 pd rms;
#N canvas 0 22 859 606 peak 0;
#X obj 244 134 abs~;
#X obj 244 243 -~;
#X obj 244 291 *~;
#X obj 244 343 +~;
#X obj 244 383 /~;
#X obj 365 219 +~ 0;
#X obj 259 218 r \$0-thresh;
#X obj 259 316 r \$0-thresh;
#X obj 259 267 r \$0-ratio;
#X obj 244 49 inlet~;
#X obj 244 405 outlet~;
#X obj 470 125 inlet;
#X obj 470 147 switch~;
#X text 206 99 Input;
#X text 208 135 Peak;
#X text 521 148 turn DSP on/off for this sub-patch;
#X connect 0 0 1 0;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 10 0;
#X connect 5 0 4 1;
#X connect 6 0 1 1;
#X connect 7 0 3 1;
#X connect 8 0 2 1;
#X connect 9 0 0 0;
#X connect 11 0 12 0;
#X restore 268 408 pd peak;
#X obj 285 310 == 0;
#X obj 285 283 t f f;
#X obj 99 248 inlet~;
#X obj 285 256 r \$0-rmspeak;
#X obj 855 473 s \$0-rmspeak;
#X obj 907 449 s \$0-lookahead;
#X obj 159 442 r \$0-lookahead;
#X obj 645 425 route threshold ratio response gain rmspeak lookahead
;
#X obj 645 237 inlet control;
#X obj 672 274 loadbang;
#X obj 645 372 t a a;
#X obj 672 400 s \$0-dump;
#X obj 645 560 + 100;
#X obj 802 453 + 100;
#X obj 802 475 dbtorms;
#X obj 302 524 r \$0-response;
#X obj 750 564 s \$0-response;
#X obj 645 785 outlet;
#X obj 645 720 r \$0-dump;
#N canvas 368 137 728 661 dump 0;
#X obj 124 106 inlet;
#X obj 125 625 outlet;
#X msg 187 486 threshold \$1;
#X msg 239 436 ratio \$1;
#X msg 294 385 response \$1;
#X msg 344 336 gain \$1;
#X msg 397 284 rmspeak \$1;
#X msg 449 235 lookahead \$1;
#X obj 187 144 route threshold ratio response gain rmspeak lookahead
;
#X obj 166 509 list;
#X obj 218 460 list;
#X obj 273 409 list;
#X obj 323 359 list;
#X obj 376 304 list;
#X obj 428 257 list;
#X obj 585 219 t b b b b b b;
#X obj 502 171 sel dump;
#X obj 428 548 list trim;
#X text 22 18 Nima Shariat;
#X text 50 40 CMPS 115;
#X text 8 61 Guitar Effects;
#X text 246 82 Copied from the tutorials pre-made patch;
#X connect 0 0 1 0;
#X connect 0 0 8 0;
#X connect 2 0 9 1;
#X connect 3 0 10 1;
#X connect 4 0 11 1;
#X connect 5 0 12 1;
#X connect 6 0 13 1;
#X connect 7 0 14 1;
#X connect 8 0 2 0;
#X connect 8 1 3 0;
#X connect 8 2 4 0;
#X connect 8 3 5 0;
#X connect 8 4 6 0;
#X connect 8 5 7 0;
#X connect 8 6 16 0;
#X connect 9 0 17 0;
#X connect 10 0 17 0;
#X connect 11 0 17 0;
#X connect 12 0 17 0;
#X connect 13 0 17 0;
#X connect 14 0 17 0;
#X connect 15 0 9 0;
#X connect 15 1 10 0;
#X connect 15 2 11 0;
#X connect 15 3 12 0;
#X connect 15 4 13 0;
#X connect 15 5 14 0;
#X connect 16 0 15 0;
#X connect 17 0 1 0;
#X restore 645 742 pd dump;
#X msg 672 303 threshold -2 \, ratio 2 \, response 40 \, gain 0 \,
rmspeak 0 \, lookahead 0;
#N canvas 0 23 450 300 delRead 0;
#X obj 68 104 inlet~;
#X obj 133 218 outlet~;
#X obj 133 105 inlet lookAhead;
#X obj 133 179 delread~ \$0-comp 0;
#X text 354 14 Nima Shariat;
#X text 382 36 CMPS 115;
#X text 340 57 Guitar Effects;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X restore 100 468 pd delRead;
#X text 53 248 Input;
#X text 27 389 delwrite~;
#X text 36 466 delread~;
#X text 125 422 Lookahead in ms;
#X text 183 492 Clip signal;
#X text 156 586 Gain Control;
#X text 352 625 Make-up gain;
#X text 693 773 Dump/send controls;
#X text 693 786 for UI object;
#X text 702 383 send controls to UI;
#X text 643 639 Convert dB FS;
#X text 643 650 to Pd dB scale;
#X text 643 662 and then linear;
#X text 643 673 amplitude.;
#X text 727 617 inverse of ratio;
#X text 821 522 convert dBFS scale to Pd dB scale;
#X text 872 498 RMS/peak selection;
#X text 945 474 lookahead value in ms;
#X text 913 405 route incoming data;
#X text 48 43 Nima Shariat;
#X text 76 65 CMPS 115;
#X text 34 86 Guitar Effects;
#X text 746 274 initialising;
#X text 374 257 Handling toggle;
#X text 426 412 RMS;
#X text 327 409 Peak;
#X text 305 548 Attack/release w/ Low Pass Filter;
#X text 225 174 Compressor;
#X text 845 175 Controls/UI;
#X text 772 199 This part was taken from the tutorial;
#X text 848 564 ms->frequency;
#X text 284 389 Gain computation;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 40 0;
#X connect 4 0 11 0;
#X connect 5 0 12 0;
#X connect 6 0 5 0;
#X connect 6 1 5 1;
#X connect 7 0 35 0;
#X connect 8 0 7 0;
#X connect 8 1 7 1;
#X connect 9 0 1 1;
#X connect 10 0 9 0;
#X connect 13 0 2 1;
#X connect 14 0 13 0;
#X connect 15 0 14 0;
#X connect 17 0 10 0;
#X connect 18 0 10 0;
#X connect 19 0 17 1;
#X connect 20 0 19 0;
#X connect 20 1 18 1;
#X connect 21 0 3 0;
#X connect 21 0 17 0;
#X connect 21 0 18 0;
#X connect 22 0 20 0;
#X connect 25 0 40 1;
#X connect 26 0 31 0;
#X connect 26 1 6 0;
#X connect 26 2 8 0;
#X connect 26 3 32 0;
#X connect 26 4 23 0;
#X connect 26 5 24 0;
#X connect 27 0 29 0;
#X connect 28 0 39 0;
#X connect 29 0 26 0;
#X connect 29 1 30 0;
#X connect 31 0 4 0;
#X connect 32 0 33 0;
#X connect 33 0 16 0;
#X connect 34 0 9 1;
#X connect 37 0 38 0;
#X connect 38 0 36 0;
#X connect 39 0 29 0;
#X connect 40 0 1 0;
